{"ast":null,"code":"import _regeneratorRuntime from\"/home/browsewire/Desktop/CEI/cei/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/browsewire/Desktop/CEI/cei/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(getTodoListItems),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(addTodoItem),_marked3=/*#__PURE__*/_regeneratorRuntime.mark(watchGetList),_marked4=/*#__PURE__*/_regeneratorRuntime.mark(wathcAddItem),_marked5=/*#__PURE__*/_regeneratorRuntime.mark(rootSaga);import{all,call,fork,put,takeEvery}from'redux-saga/effects';import{getDateWithFormat}from'../../helpers/Utils';import{TODO_GET_LIST,TODO_ADD_ITEM}from'../actions';import{getTodoListSuccess,getTodoListError,addTodoItemSuccess,addTodoItemError}from'./actions';import todoData from'../../data/todos.json';var getTodoListRequest=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return new Promise(function(success,fail){setTimeout(function(){success(todoData.data);},1000);}).then(function(response){return response;}).catch(function(error){return error;});case 2:return _context.abrupt(\"return\",_context.sent);case 3:case\"end\":return _context.stop();}}},_callee);}));return function getTodoListRequest(){return _ref.apply(this,arguments);};}();function getTodoListItems(){var response;return _regeneratorRuntime.wrap(function getTodoListItems$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return call(getTodoListRequest);case 3:response=_context2.sent;_context2.next=6;return put(getTodoListSuccess(response));case 6:_context2.next=12;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);_context2.next=12;return put(getTodoListError(_context2.t0));case 12:case\"end\":return _context2.stop();}}},_marked,null,[[0,8]]);}var addTodoItemRequest=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(item){var items;return _regeneratorRuntime.wrap(function _callee2$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:items=todoData.data;item.id=items.length+1;item.createDate=getDateWithFormat();items.splice(0,0,item);_context3.next=6;return new Promise(function(success,fail){setTimeout(function(){success(items);},1000);}).then(function(response){return response;}).catch(function(error){return error;});case 6:return _context3.abrupt(\"return\",_context3.sent);case 7:case\"end\":return _context3.stop();}}},_callee2);}));return function addTodoItemRequest(_x){return _ref2.apply(this,arguments);};}();function addTodoItem(_ref3){var payload,response;return _regeneratorRuntime.wrap(function addTodoItem$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:payload=_ref3.payload;_context4.prev=1;_context4.next=4;return call(addTodoItemRequest,payload);case 4:response=_context4.sent;_context4.next=7;return put(addTodoItemSuccess(response));case 7:_context4.next=13;break;case 9:_context4.prev=9;_context4.t0=_context4[\"catch\"](1);_context4.next=13;return put(addTodoItemError(_context4.t0));case 13:case\"end\":return _context4.stop();}}},_marked2,null,[[1,9]]);}export function watchGetList(){return _regeneratorRuntime.wrap(function watchGetList$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return takeEvery(TODO_GET_LIST,getTodoListItems);case 2:case\"end\":return _context5.stop();}}},_marked3);}export function wathcAddItem(){return _regeneratorRuntime.wrap(function wathcAddItem$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return takeEvery(TODO_ADD_ITEM,addTodoItem);case 2:case\"end\":return _context6.stop();}}},_marked4);}export default function rootSaga(){return _regeneratorRuntime.wrap(function rootSaga$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return all([fork(watchGetList),fork(wathcAddItem)]);case 2:case\"end\":return _context7.stop();}}},_marked5);}","map":null,"metadata":{},"sourceType":"module"}