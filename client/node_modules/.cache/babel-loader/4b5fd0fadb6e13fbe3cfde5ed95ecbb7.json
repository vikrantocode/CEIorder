{"ast":null,"code":"import _objectSpread from\"/home/browsewire/Desktop/CEI/cei/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{CHAT_GET_CONTACTS,CHAT_GET_CONTACTS_SUCCESS,CHAT_GET_CONTACTS_ERROR,CHAT_GET_CONVERSATIONS,CHAT_GET_CONVERSATIONS_SUCCESS,CHAT_GET_CONVERSATIONS_ERROR,CHAT_ADD_MESSAGE_TO_CONVERSATION,CHAT_CREATE_CONVERSATION,CHAT_SEARCH_CONTACT,CHAT_CHANGE_CONVERSATION}from'../actions';var INIT_STATE={allContacts:null,contacts:null,conversations:null,error:'',searchKeyword:'',loadingContacts:false,loadingConversations:false,currentUser:null,selectedUser:null,selectedUserId:null};export default(function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:INIT_STATE;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case CHAT_GET_CONTACTS:return _objectSpread(_objectSpread({},state),{},{loadingContacts:false});case CHAT_GET_CONTACTS_SUCCESS:return _objectSpread(_objectSpread({},state),{},{loadingContacts:true,allContacts:action.payload.contacts,contacts:action.payload.contacts,currentUser:action.payload.currentUser});case CHAT_GET_CONTACTS_ERROR:return _objectSpread(_objectSpread({},state),{},{loadingContacts:false,error:action.payload});case CHAT_GET_CONVERSATIONS:return _objectSpread(_objectSpread({},state),{},{loadingConversations:false});case CHAT_GET_CONVERSATIONS_SUCCESS:return _objectSpread(_objectSpread({},state),{},{loadingConversations:true,conversations:action.payload.conversations,selectedUserId:action.payload.selectedUser});case CHAT_GET_CONVERSATIONS_ERROR:return _objectSpread(_objectSpread({},state),{},{loadingConversations:false,error:action.payload});case CHAT_CHANGE_CONVERSATION:return _objectSpread(_objectSpread({},state),{},{selectedUser:state.allContacts.find(function(x){return x.id===action.payload;})});case CHAT_ADD_MESSAGE_TO_CONVERSATION:return _objectSpread({},state);case CHAT_CREATE_CONVERSATION:return _objectSpread({},state);case CHAT_SEARCH_CONTACT:if(action.payload===''){return _objectSpread(_objectSpread({},state),{},{contacts:state.allContacts});}var keyword=action.payload.toLowerCase();var searchedContacts=state.allContacts.filter(function(item){return item.name.toLowerCase().indexOf(keyword)>-1;});return _objectSpread(_objectSpread({},state),{},{contacts:searchedContacts});default:return _objectSpread({},state);}});","map":null,"metadata":{},"sourceType":"module"}