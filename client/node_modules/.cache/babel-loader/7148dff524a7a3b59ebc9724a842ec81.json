{"ast":null,"code":"import _objectSpread from\"/home/browsewire/Desktop/CEI/cei/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/home/browsewire/Desktop/CEI/cei/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/browsewire/Desktop/CEI/cei/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/browsewire/Desktop/CEI/cei/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Row,Button,Col,Label,Input,Card,CardBody}from'reactstrap';import axios from'axios';import Select from'react-select';import{useHistory}from'react-router';import{Colxx,Separator}from'../../../../components/common/CustomBootstrap';import Breadcrumb from'../../../../containers/navs/Breadcrumb';import CustomSelectInput from'../../../../components/common/CustomSelectInput';import IntlMessages from'../../../../helpers/IntlMessages';import{NotificationManager}from'../../../../components/common/react-notifications';var typeOptions=[{label:'Normal',value:'Normal'},{label:'FBA',value:'FBA'},{label:'Dropship',value:'Dropship'},{label:'Interim',value:'Interim'},{label:'Un Tested',value:'Un Tested'},{label:'New Egg',value:'New Egg'},{label:'C Discount',value:'C Discount'},{label:'WFS',value:'WFS'}];var activeOptions=[{label:'Active',value:true},{label:'Inactive',value:false}];var AddWarehouse=function AddWarehouse(_ref){var match=_ref.match;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),formData=_useState4[0],setFormData=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),vendors=_useState6[0],setVendors=_useState6[1];var history=useHistory();useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,data,vendors;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('/api/inventory/get-each-vendor');case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;vendors=data.map(function(item){return{value:item.id,label:item.name};});setVendors(vendors);case 6:case\"end\":return _context.stop();}}},_callee);}))();},[]);var validateEmail=function validateEmail(email){var re=/\\S+@\\S+\\.\\S+/;return re.test(email);};var handleSubmit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var id;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(formData);//? Perform Validation\nif(!(formData.name===''||formData.name===undefined)){_context2.next=5;break;}return _context2.abrupt(\"return\",NotificationManager.warning('Warehouse Name is Mandatory.','Warning',3000));case 5:if(!(formData.type===''||formData.type===undefined)){_context2.next=9;break;}return _context2.abrupt(\"return\",NotificationManager.warning('Warehouse Type is Mandatory.','Warning',3000));case 9:if(!(formData.firstName===''||formData.firstName===undefined)){_context2.next=13;break;}return _context2.abrupt(\"return\",NotificationManager.warning(\"Warehouse Contact Person's Name is Mandatory.\",'Warning',3000));case 13:if(!(formData.email===''||formData.email===undefined)){_context2.next=17;break;}return _context2.abrupt(\"return\",NotificationManager.warning(\"Warehouse Contact Person's Email is Mandatory\",'Warning',3000));case 17:if(validateEmail(formData.email)){_context2.next=19;break;}return _context2.abrupt(\"return\",NotificationManager.warning('Please Enter a Valid Email Address.','Warning',3000));case 19://? Everything Right Perform AXIOS CALL\nid=localStorage.getItem('userId');formData.userId=id;_context2.prev=21;_context2.next=24;return axios.post(\"/api/orders/warehouses\",formData);case 24:NotificationManager.success('Warehouse Created Successfully.','Success',3000);return _context2.abrupt(\"return\",history.push('/app/orders/warehouses'));case 28:_context2.prev=28;_context2.t0=_context2[\"catch\"](21);console.log(_context2.t0);return _context2.abrupt(\"return\",NotificationManager.error('Something went wrong','Error',3000));case 32:case\"end\":return _context2.stop();}}},_callee2,null,[[21,28]]);}));return function handleSubmit(){return _ref3.apply(this,arguments);};}();return isLoading?/*#__PURE__*/React.createElement(\"div\",{className:\"loading\"}):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Colxx,{xxs:\"12\"},/*#__PURE__*/React.createElement(Breadcrumb,{heading:'Add Warehouse',match:match}),/*#__PURE__*/React.createElement(\"div\",{className:\"text-zero\"},'  '),/*#__PURE__*/React.createElement(Separator,{className:\"mb-5\"}))),/*#__PURE__*/React.createElement(Row,{className:\"mb-4\"},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(Colxx,{xxs:\"12\",className:\"mb-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"my-3 h5\"},\"Warehouse Details : -\"),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Label,null,/*#__PURE__*/React.createElement(IntlMessages,{id:\"Warehouse Name\"})),/*#__PURE__*/React.createElement(Input,{type:\"text\",onChange:function onChange(e){setFormData(_objectSpread(_objectSpread({},formData),{},{name:e.target.value}));}})),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Label,null,/*#__PURE__*/React.createElement(IntlMessages,{id:\"Type\"})),/*#__PURE__*/React.createElement(Select,{components:{Input:CustomSelectInput},className:\"react-select\",classNamePrefix:\"react-select\",name:\"form-field-name\",options:typeOptions,onChange:function onChange(e){setFormData(_objectSpread(_objectSpread({},formData),{},{type:e.value}));}}))),/*#__PURE__*/React.createElement(Row,{className:\"mt-3\"},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Label,null,/*#__PURE__*/React.createElement(IntlMessages,{id:\"Quick Books Name\"})),/*#__PURE__*/React.createElement(Input,{type:\"textarea\",onChange:function onChange(e){setFormData(_objectSpread(_objectSpread({},formData),{},{quickBooksName:e.target.value}));}}))),/*#__PURE__*/React.createElement(Row,{className:\"mt-3\"},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Label,null,/*#__PURE__*/React.createElement(IntlMessages,{id:\"Handling Time(in Days)\"})),/*#__PURE__*/React.createElement(Input,{onChange:function onChange(e){setFormData(_objectSpread(_objectSpread({},formData),{},{handlingTime:e.target.value}));}})),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Label,null,/*#__PURE__*/React.createElement(IntlMessages,{id:\"Vendor\"})),/*#__PURE__*/React.createElement(Select,{components:{Input:CustomSelectInput},className:\"react-select\",classNamePrefix:\"react-select\",name:\"form-field-name\",options:vendors,onChange:function onChange(e){setFormData(_objectSpread(_objectSpread({},formData),{},{vendorId:e.value}));}}))),/*#__PURE__*/React.createElement(Row,{className:\"mt-3\"},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Label,null,/*#__PURE__*/React.createElement(IntlMessages,{id:\"Sellable\"})),/*#__PURE__*/React.createElement(Select,{components:{Input:CustomSelectInput},className:\"react-select\",classNamePrefix:\"react-select\",name:\"form-field-name\",options:activeOptions,onChange:function onChange(e){setFormData(_objectSpread(_objectSpread({},formData),{},{sellable:e.value}));}})),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Label,null,/*#__PURE__*/React.createElement(IntlMessages,{id:\"Is Default\"})),/*#__PURE__*/React.createElement(Select,{components:{Input:CustomSelectInput},className:\"react-select\",classNamePrefix:\"react-select\",name:\"form-field-name\",options:activeOptions,onChange:function onChange(e){setFormData(_objectSpread(_objectSpread({},formData),{},{isDefault:e.value}));}})),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Label,null,/*#__PURE__*/React.createElement(IntlMessages,{id:\"FBA Shipment Allow\"})),/*#__PURE__*/React.createElement(Select,{components:{Input:CustomSelectInput},className:\"react-select\",classNamePrefix:\"react-select\",name:\"form-field-name\",options:activeOptions,onChange:function onChange(e){setFormData(_objectSpread(_objectSpread({},formData),{},{fbaShipmentAllow:e.value}));}})),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Label,null,/*#__PURE__*/React.createElement(IntlMessages,{id:\"Inventory Report Exclude\"})),/*#__PURE__*/React.createElement(Select,{components:{Input:CustomSelectInput},className:\"react-select\",classNamePrefix:\"react-select\",name:\"form-field-name\",options:activeOptions,onChange:function onChange(e){setFormData(_objectSpread(_objectSpread({},formData),{},{inventoryReportExclude:e.value}));}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-3 h5\"},\"Contact Person Details : -\"),/*#__PURE__*/React.createElement(Row,{className:\"mt-3\"},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Label,null,/*#__PURE__*/React.createElement(IntlMessages,{id:\"First Name\"})),/*#__PURE__*/React.createElement(Input,{type:\"text\",onChange:function onChange(e){setFormData(_objectSpread(_objectSpread({},formData),{},{firstName:e.target.value}));}})),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Label,null,/*#__PURE__*/React.createElement(IntlMessages,{id:\"Middle Name\"})),/*#__PURE__*/React.createElement(Input,{type:\"text\",onChange:function onChange(e){setFormData(_objectSpread(_objectSpread({},formData),{},{middleName:e.target.value}));}})),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Label,null,/*#__PURE__*/React.createElement(IntlMessages,{id:\"Last Name\"})),/*#__PURE__*/React.createElement(Input,{type:\"text\",onChange:function onChange(e){setFormData(_objectSpread(_objectSpread({},formData),{},{lastName:e.target.value}));}}))),/*#__PURE__*/React.createElement(Row,{className:\"mt-3\"},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Label,null,/*#__PURE__*/React.createElement(IntlMessages,{id:\"Email Address\"})),/*#__PURE__*/React.createElement(Input,{type:\"email\",onChange:function onChange(e){setFormData(_objectSpread(_objectSpread({},formData),{},{email:e.target.value}));}})),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Label,null,/*#__PURE__*/React.createElement(IntlMessages,{id:\"Phone\"})),/*#__PURE__*/React.createElement(Input,{type:\"text\",onChange:function onChange(e){setFormData(_objectSpread(_objectSpread({},formData),{},{phone:e.target.value}));}}))),/*#__PURE__*/React.createElement(Row,{className:\"mt-3\"},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Label,null,/*#__PURE__*/React.createElement(IntlMessages,{id:\"Address 1\"})),/*#__PURE__*/React.createElement(Input,{type:\"text\",onChange:function onChange(e){setFormData(_objectSpread(_objectSpread({},formData),{},{address1:e.target.value}));}})),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Label,null,/*#__PURE__*/React.createElement(IntlMessages,{id:\"Address 2\"})),/*#__PURE__*/React.createElement(Input,{type:\"text\",onChange:function onChange(e){setFormData(_objectSpread(_objectSpread({},formData),{},{address2:e.target.value}));}}))),/*#__PURE__*/React.createElement(Row,{className:\"mt-3\"},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Label,null,/*#__PURE__*/React.createElement(IntlMessages,{id:\"City\"})),/*#__PURE__*/React.createElement(Input,{type:\"text\",onChange:function onChange(e){setFormData(_objectSpread(_objectSpread({},formData),{},{city:e.target.value}));}})),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Label,null,/*#__PURE__*/React.createElement(IntlMessages,{id:\"State\"})),/*#__PURE__*/React.createElement(Input,{type:\"text\",onChange:function onChange(e){setFormData(_objectSpread(_objectSpread({},formData),{},{state:e.target.value}));}})),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Label,null,/*#__PURE__*/React.createElement(IntlMessages,{id:\"Zip Code\"})),/*#__PURE__*/React.createElement(Input,{type:\"text\",onChange:function onChange(e){setFormData(_objectSpread(_objectSpread({},formData),{},{zipCode:e.target.value}));}})),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Label,null,/*#__PURE__*/React.createElement(IntlMessages,{id:\"Country\"})),/*#__PURE__*/React.createElement(Input,{type:\"text\",onChange:function onChange(e){setFormData(_objectSpread(_objectSpread({},formData),{},{country:e.target.value}));}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-3\"},/*#__PURE__*/React.createElement(Button,{className:\"mr-2\",color:\"secondary\",outline:true,onClick:function onClick(){history.push('/app/orders/warehouses');}},/*#__PURE__*/React.createElement(IntlMessages,{id:\"Cancel\"})),/*#__PURE__*/React.createElement(Button,{color:\"primary\",onClick:handleSubmit},/*#__PURE__*/React.createElement(IntlMessages,{id:\"Add Warehouse\"})))))))));};export default AddWarehouse;","map":null,"metadata":{},"sourceType":"module"}