{"ast":null,"code":"import _objectSpread from\"/home/browsewire/Desktop/CEI/cei/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _createForOfIteratorHelper from\"/home/browsewire/Desktop/CEI/cei/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _regeneratorRuntime from\"/home/browsewire/Desktop/CEI/cei/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/browsewire/Desktop/CEI/cei/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/browsewire/Desktop/CEI/cei/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Button,Modal,ModalHeader,ModalBody,ModalFooter,Input,Label,Row,Col}from'reactstrap';import Select from'react-select';import IntlMessages from'../../../../helpers/IntlMessages';import axios from'axios';import CustomSelectInput from'../../../../components/common/CustomSelectInput';import{NotificationManager}from'../../../../components/common/react-notifications';var styles={profileImg:{height:'5rem',width:'5rem',borderRadius:'50%'}};// const statusOptions = [\n//   { label: 'Active', value: 'Active', key: 0 },\n//   { label: 'Inactive', value: 'Inactive', key: 1 },\n// ];\nvar AddNewBrand=function AddNewBrand(_ref){var modalOpen=_ref.modalOpen,toggleModal=_ref.toggleModal,change=_ref.change,setchange=_ref.setchange;var _React$useState=React.useState({}),_React$useState2=_slicedToArray(_React$useState,2),formData=_React$useState2[0],setformData=_React$useState2[1];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),parentbrands=_useState2[0],setParentbrands=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),brandImage=_useState4[0],setBrandImage=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),brandImagedata=_useState6[0],setBrandImagedata=_useState6[1];var baseimageurl=\"https://cdn.linqusacorp.com\";var CreateNewBrand=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var formdata,imgform;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"aaaaaaa\");e.preventDefault();if(formData.brandShortName){_context.next=4;break;}return _context.abrupt(\"return\",NotificationManager.warning('Brand Short Name is Mandatory','Warning',3000));case 4:formdata={brandShortName:formData.brandShortName,brandLongName:formData.brandLongName,parentId:formData.parentId};if(brandImagedata,formData.brandShortName&&formData.brandLongName){imgform=new FormData();imgform.append(\"brandimg\",brandImagedata);console.log(imgform,\"---------------imgform---------------------------\");axios.post(\"https://d3o5w1w6u67fah.cloudfront.net/productimages\",imgform).then(function(data){if(data.data.success){var path=\"\".concat(baseimageurl,\"/productimages/\").concat(data.data.data.filename);console.log(path);formdata.imageNameBrandLogo=path;}});}if(formData.brandShortName){axios.post(\"/api/inventory/addBrand\",formdata).then(function(res){if(res.data.success){toggleModal();setchange(!change);NotificationManager.success(res.data.success,'Success',3000,null,null,'');}});setformData({});}case 7:case\"end\":return _context.stop();}}},_callee);}));return function CreateNewBrand(_x){return _ref2.apply(this,arguments);};}();var onChangePicture=function onChangePicture(e){if(e.target.files[0]){var reader=new FileReader();reader.addEventListener('load',function(){setBrandImage(reader.result);});reader.readAsDataURL(e.target.files[0]);setBrandImagedata(e.target.files[0]);}};useEffect(function(){axios.get('/api/inventory/get-brand').then(function(res){console.log(res.data.data);var brandList=[];var singleBrand;var _iterator=_createForOfIteratorHelper(res.data.data),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var i=_step.value;singleBrand={label:i.brandShortName,value:i.brandShortName,key:i.id};brandList.push(singleBrand);}}catch(err){_iterator.e(err);}finally{_iterator.f();}setParentbrands(brandList);});},[]);return/*#__PURE__*/React.createElement(Modal,{isOpen:modalOpen,toggle:toggleModal,wrapClassName:\"modal-right\",backdrop:\"static\"},/*#__PURE__*/React.createElement(ModalHeader,{toggle:toggleModal},/*#__PURE__*/React.createElement(IntlMessages,{id:\"Add New Brand\"})),/*#__PURE__*/React.createElement(ModalBody,null,/*#__PURE__*/React.createElement(\"div\",{className:\"mt-3\"},/*#__PURE__*/React.createElement(Label,null,/*#__PURE__*/React.createElement(IntlMessages,{id:\"Brand Short Name\"})),/*#__PURE__*/React.createElement(Input,{onChange:function onChange(e){setformData(_objectSpread(_objectSpread({},formData),{},{brandShortName:e.target.value}));}})),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-3\"},/*#__PURE__*/React.createElement(Label,null,/*#__PURE__*/React.createElement(IntlMessages,{id:\"Brand Long Name\"})),/*#__PURE__*/React.createElement(Input,{onChange:function onChange(e){setformData(_objectSpread(_objectSpread({},formData),{},{brandLongName:e.target.value}));}})),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-3\"},/*#__PURE__*/React.createElement(Label,null,/*#__PURE__*/React.createElement(IntlMessages,{id:\"Parent Brand\"})),/*#__PURE__*/React.createElement(Select,{components:{Input:CustomSelectInput},className:\"react-select\",classNamePrefix:\"react-select\",name:\"form-field-name\",options:parentbrands,onChange:function onChange(e){setformData(_objectSpread(_objectSpread({},formData),{},{parentId:e.key}));}})),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-center flex-column p-3\"},brandImage?/*#__PURE__*/React.createElement(\"img\",{style:styles.profileImg,src:brandImage,alt:\"\"}):/*#__PURE__*/React.createElement(\"img\",{src:\"https://icon-library.com/images/category-icon/category-icon-29.jpg\"}),/*#__PURE__*/React.createElement(Label,{className:\"font-weight-bold edit-profile mt-2\",htmlFor:\"imageNameItem\"},/*#__PURE__*/React.createElement(IntlMessages,{id:\"Change Picture\"})),/*#__PURE__*/React.createElement(Input,{accept:\"image/*\",onChange:onChangePicture,style:{display:'none'},type:\"file\",name:\"imageNameItem\",id:\"imageNameItem\"}))),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(Button,{color:\"secondary\",outline:true,onClick:toggleModal},/*#__PURE__*/React.createElement(IntlMessages,{id:\"pages.cancel\"})),/*#__PURE__*/React.createElement(Button,{onClick:CreateNewBrand,color:\"primary\"},/*#__PURE__*/React.createElement(IntlMessages,{id:\"Create Brand\"}))));};export default AddNewBrand;","map":null,"metadata":{},"sourceType":"module"}