{"ast":null,"code":"import _objectSpread from\"/home/browsewire/Desktop/CEI/cei/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/browsewire/Desktop/CEI/cei/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* eslint-disable no-unused-vars */ /* eslint-disable no-underscore-dangle */ /* eslint-disable no-param-reassign */import React,{useEffect,useRef,useState}from'react';import{Chart}from'chart.js';import{smallLineChartOptions}from'./config';var addCommas=function addCommas(nStr){nStr+='';var x=nStr.split('.');var x1=x[0];var x2=x.length>1?\".\".concat(x[1]):'';var rgx=/(\\d+)(\\d{3})/;while(rgx.test(x1)){x1=x1.replace(rgx,'$1,$2');}return x1+x2;};var Scatter=function Scatter(_ref){var data=_ref.data;var chartContainer=useRef(null);var _useState=useState(null),_useState2=_slicedToArray(_useState,2),setChartInstance=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),currentValue=_useState4[0],setCurrentValue=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),currentLabel=_useState6[0],setCurrentLabel=_useState6[1];var changeState=function changeState(yLabel,xLabel){setCurrentValue(yLabel);setCurrentLabel(xLabel);};useEffect(function(){if(chartContainer&&chartContainer.current){Chart.controllers.lineWithLine=Chart.controllers.line;Chart.controllers.lineWithLine=Chart.controllers.line.extend({draw:function draw(ease){Chart.controllers.line.prototype.draw.call(this,ease);var _this$chart=this.chart,ctx=_this$chart.ctx,tooltip=_this$chart.tooltip,scales=_this$chart.scales;if(tooltip._active&&tooltip._active[0]){var activePoint=tooltip._active[0];var _activePoint$tooltipP=activePoint.tooltipPosition(),x=_activePoint$tooltipP.x;var topY=scales['y-axis-0'].top;var bottomY=scales['y-axis-0'].bottom;ctx.save();ctx.beginPath();ctx.moveTo(x,topY);ctx.lineTo(x,bottomY);ctx.lineWidth=1;ctx.strokeStyle='rgba(0,0,0,0.1)';ctx.stroke();ctx.restore();}}});var context=chartContainer.current.getContext('2d');var newChartInstance=new Chart(context,{type:'lineWithLine',options:_objectSpread(_objectSpread({},smallLineChartOptions),{},{tooltips:{intersect:false,enabled:false,custom:function custom(tooltipModel){if(tooltipModel&&tooltipModel.dataPoints){var yLabel=tooltipModel.dataPoints[0].yLabel;var xLabel=tooltipModel.dataPoints[0].xLabel;var label=tooltipModel.body[0].lines[0].split(':')[0];changeState(\"$\".concat(addCommas(yLabel)),\"\".concat(label,\"-\").concat(xLabel));}}}}),plugins:[{afterInit:function afterInit(chart,_options){var yLabel=chart.data.datasets[0].data[0];var xLabel=chart.data.labels[0];var label=chart.data.datasets[0].label;changeState(\"$\".concat(addCommas(yLabel)),\"\".concat(label,\"-\").concat(xLabel));}}],data:data});setChartInstance(newChartInstance);}},[chartContainer,data]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",{className:\"lead color-theme-1 mb-1 value\"},currentValue),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0 label text-small\"},currentLabel)),/*#__PURE__*/React.createElement(\"div\",{className:\"chart\"},/*#__PURE__*/React.createElement(\"canvas\",{ref:chartContainer})));};export default Scatter;","map":null,"metadata":{},"sourceType":"module"}