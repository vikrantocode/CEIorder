{"ast":null,"code":"import _toConsumableArray from \"/home/browsewire/Desktop/hj/CEI/cei/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"/home/browsewire/Desktop/hj/CEI/cei/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _objectSpread from \"/home/browsewire/Desktop/hj/CEI/cei/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"/home/browsewire/Desktop/hj/CEI/cei/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/browsewire/Desktop/hj/CEI/cei/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/browsewire/Desktop/hj/CEI/cei/client/src/views/app/dashboards/manageUsers.js\";\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Card, CustomInput } from 'reactstrap';\nimport { ContextMenuTrigger } from 'react-contextmenu';\nimport { Colxx } from '../../../components/common/CustomBootstrap';\nimport { servicePath } from \"../../../constants/defaultValues\";\nimport ListPageHeading from '../../../containers/pages/ListPageHeading';\nimport AddNewModal from '../../../containers/pages/AddNewModal';\nimport ListPageListing from '../../../containers/pages/ListPageListing';\nimport useMousetrap from '../../../hooks/use-mousetrap';\nimport ListHeadings from \"../../../containers/pages/ListHeadings\";\nimport { FaEthereum } from 'react-icons/fa';\n\nvar getIndex = function getIndex(value, arr, prop) {\n  for (var i = 0; i < arr.length; i += 1) {\n    if (arr[i][prop] === value) {\n      return i;\n    }\n  }\n\n  return -1;\n}; //   const apiUrl = `${servicePath}/cakes/paging`;\n\n\nvar orderOptions = [{\n  column: 'firstName',\n  label: 'Name'\n}];\nvar pageSizes = [4, 8, 12, 20];\nvar categories = [{\n  label: 'User',\n  value: 'user',\n  key: 0\n}, {\n  label: 'Admin',\n  value: 'admin',\n  key: 1\n}, {\n  label: 'Magento User',\n  value: 'magentoUser',\n  key: 2\n}];\n\nvar ManageUsers = function ManageUsers(_ref) {\n  var intl = _ref.intl,\n      match = _ref.match;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLoaded = _useState2[0],\n      setIsLoaded = _useState2[1];\n\n  var _useState3 = useState('list'),\n      _useState4 = _slicedToArray(_useState3, 2),\n      displayMode = _useState4[0],\n      setDisplayMode = _useState4[1];\n\n  var _useState5 = useState(1),\n      _useState6 = _slicedToArray(_useState5, 2),\n      currentPage = _useState6[0],\n      setCurrentPage = _useState6[1];\n\n  var _useState7 = useState(8),\n      _useState8 = _slicedToArray(_useState7, 2),\n      selectedPageSize = _useState8[0],\n      setSelectedPageSize = _useState8[1];\n\n  var _useState9 = useState({\n    column: 'title',\n    label: 'Product Name'\n  }),\n      _useState10 = _slicedToArray(_useState9, 2),\n      selectedOrderOption = _useState10[0],\n      setSelectedOrderOption = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      change = _useState12[0],\n      setchange = _useState12[1];\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      modalOpen = _useState14[0],\n      setModalOpen = _useState14[1];\n\n  var _useState15 = useState(0),\n      _useState16 = _slicedToArray(_useState15, 2),\n      totalItemCount = _useState16[0],\n      setTotalItemCount = _useState16[1];\n\n  var _useState17 = useState(1),\n      _useState18 = _slicedToArray(_useState17, 2),\n      totalPage = _useState18[0],\n      setTotalPage = _useState18[1];\n\n  var _useState19 = useState(''),\n      _useState20 = _slicedToArray(_useState19, 2),\n      search = _useState20[0],\n      setSearch = _useState20[1];\n\n  var _useState21 = useState([]),\n      _useState22 = _slicedToArray(_useState21, 2),\n      selectedItems = _useState22[0],\n      setSelectedItems = _useState22[1];\n\n  var _useState23 = useState([]),\n      _useState24 = _slicedToArray(_useState23, 2),\n      items = _useState24[0],\n      setItems = _useState24[1];\n\n  var _useState25 = useState(null),\n      _useState26 = _slicedToArray(_useState25, 2),\n      lastChecked = _useState26[0],\n      setLastChecked = _useState26[1];\n\n  var _useState27 = useState(\"\"),\n      _useState28 = _slicedToArray(_useState27, 2),\n      sortby = _useState28[0],\n      setsortby = _useState28[1];\n\n  useEffect(function () {\n    setCurrentPage(1);\n  }, [selectedPageSize, selectedOrderOption]);\n  useEffect(function () {\n    function fetchData() {\n      return _fetchData.apply(this, arguments);\n    }\n\n    function _fetchData() {\n      _fetchData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return axios.get(\"/api/users/1\").then(function (res) {\n                  // console.log(res.data)\n                  return res.data;\n                }).then(function (data) {\n                  setTotalPage(data.totalPage);\n                  setItems(data.data.map(function (x) {\n                    return _objectSpread({}, x);\n                  }));\n                  setSelectedItems([]); // setTotalItemCount(data.totalItem);\n\n                  setIsLoaded(true);\n                });\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _fetchData.apply(this, arguments);\n    }\n\n    fetchData();\n  }, [change]);\n\n  var onCheckItem = function onCheckItem(event, id) {\n    if (event.target.tagName === 'A' || event.target.parentElement && event.target.parentElement.tagName === 'A') {\n      return true;\n    }\n\n    if (lastChecked === null) {\n      setLastChecked(id);\n    }\n\n    var selectedList = _toConsumableArray(selectedItems);\n\n    if (selectedList.includes(id)) {\n      selectedList = selectedList.filter(function (x) {\n        return x !== id;\n      });\n    } else {\n      selectedList.push(id);\n    }\n\n    setSelectedItems(selectedList);\n\n    if (event.shiftKey) {\n      var newItems = _toConsumableArray(items);\n\n      var start = getIndex(id, newItems, 'id');\n      var end = getIndex(lastChecked, newItems, 'id');\n      newItems = newItems.slice(Math.min(start, end), Math.max(start, end) + 1);\n      selectedItems.push.apply(selectedItems, _toConsumableArray(newItems.map(function (item) {\n        return item.id;\n      })));\n      selectedList = Array.from(new Set(selectedItems));\n      setSelectedItems(selectedList);\n    }\n\n    document.activeElement.blur();\n    return false;\n  };\n\n  var changePage = function changePage(i) {\n    setCurrentPage(i);\n    axios.get(\"/api/users/\".concat(i)).then(function (res) {\n      setTotalPage(res.data.totalPage);\n      setItems(res.data.data.map(function (x) {\n        return _objectSpread({}, x);\n      }));\n      setSelectedItems([]); // setTotalItemCount(data.totalItem);\n\n      setIsLoaded(true);\n    });\n  };\n\n  var handleChangeSelectAll = function handleChangeSelectAll(isToggle) {\n    if (selectedItems.length >= items.length) {\n      if (isToggle) {\n        setSelectedItems([]);\n      }\n    } else {\n      setSelectedItems(items.map(function (x) {\n        return x.id;\n      }));\n    }\n\n    document.activeElement.blur();\n    return false;\n  };\n\n  var onContextMenuClick = function onContextMenuClick(e, data) {\n    console.log('onContextMenuClick - selected items', selectedItems);\n    console.log('onContextMenuClick - action : ', data.action);\n  };\n\n  var onContextMenu = function onContextMenu(e, data) {\n    var clickedProductId = data.data;\n\n    if (!selectedItems.includes(clickedProductId)) {\n      setSelectedItems([clickedProductId]);\n    }\n\n    return true;\n  };\n\n  useMousetrap(['ctrl+a', 'command+a'], function () {\n    handleChangeSelectAll(false);\n  });\n  useMousetrap(['ctrl+d', 'command+d'], function () {\n    setSelectedItems([]);\n    return false;\n  });\n  var startIndex = (currentPage - 1) * selectedPageSize;\n  var endIndex = currentPage * selectedPageSize;\n  return !isLoaded ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loading\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"disable-text-selection\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ListPageHeading, {\n    change: change,\n    setchange: setchange,\n    heading: \"Users\",\n    displayMode: displayMode,\n    changeDisplayMode: setDisplayMode,\n    handleChangeSelectAll: handleChangeSelectAll,\n    changeOrderBy: function changeOrderBy(column) {\n      setSelectedOrderOption(orderOptions.find(function (x) {\n        return x.column === column;\n      }));\n      setsortby(column);\n      axios.get(\"/api/users/1\", {\n        params: {\n          sortby: column\n        }\n      }).then(function (res) {\n        setItems(res.data.data.map(function (x) {\n          return _objectSpread({}, x);\n        }));\n        setSelectedItems([]);\n        setIsLoaded(true);\n      });\n    },\n    changePageSize: setSelectedPageSize,\n    selectedPageSize: selectedPageSize,\n    totalItemCount: totalItemCount,\n    selectedOrderOption: selectedOrderOption,\n    match: match,\n    startIndex: startIndex,\n    endIndex: endIndex,\n    selectedItemsLength: selectedItems ? selectedItems.length : 0,\n    itemsLength: items ? items.length : 0,\n    onSearchKey: function onSearchKey(e) {\n      if (e.key === 'Enter') {\n        setSearch(e.target.value.toLowerCase());\n        axios.get(\"/api/users/1\", {\n          params: {\n            search: e.target.value.toLowerCase()\n          }\n        }).then(function (res) {\n          setItems(res.data.data.map(function (x) {\n            return _objectSpread({}, x);\n          }));\n          setSelectedItems([]); // setTotalItemCount(res.data.totalItem);\n\n          setIsLoaded(true);\n        });\n      }\n    },\n    orderOptions: orderOptions,\n    pageSizes: pageSizes,\n    toggleModal: function toggleModal() {\n      return setModalOpen(!modalOpen);\n    },\n    selectedItems: selectedItems,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(AddNewModal, {\n    change: change,\n    setchange: setchange,\n    modalOpen: modalOpen,\n    toggleModal: function toggleModal() {\n      return setModalOpen(!modalOpen);\n    },\n    categories: categories,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 11\n    }\n  }), items.length == 0 ? \"\" : /*#__PURE__*/React.createElement(ListHeadings, {\n    change: change,\n    setchange: setchange,\n    selectedItemsLength: selectedItems ? selectedItems.length : 0,\n    handleChangeSelectAll: handleChangeSelectAll,\n    itemsLength: items ? items.length : 0,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 33\n    }\n  }), items.length == 0 ? /*#__PURE__*/React.createElement(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 29\n    }\n  }, \"No Records Found\") : /*#__PURE__*/React.createElement(ListPageListing, {\n    change: change,\n    setchange: setchange,\n    items: items,\n    setItems: setItems,\n    displayMode: displayMode,\n    selectedItems: selectedItems,\n    onCheckItem: onCheckItem,\n    currentPage: currentPage,\n    totalPage: totalPage,\n    onContextMenuClick: onContextMenuClick,\n    onContextMenu: onContextMenu,\n    onChangePage: changePage,\n    categories: categories // deleteUser={deleteUser}\n    ,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 58\n    }\n  })));\n};\n\nexport default ManageUsers;","map":{"version":3,"sources":["/home/browsewire/Desktop/hj/CEI/cei/client/src/views/app/dashboards/manageUsers.js"],"names":["React","useState","useEffect","axios","Card","CustomInput","ContextMenuTrigger","Colxx","servicePath","ListPageHeading","AddNewModal","ListPageListing","useMousetrap","ListHeadings","FaEthereum","getIndex","value","arr","prop","i","length","orderOptions","column","label","pageSizes","categories","key","ManageUsers","intl","match","isLoaded","setIsLoaded","displayMode","setDisplayMode","currentPage","setCurrentPage","selectedPageSize","setSelectedPageSize","selectedOrderOption","setSelectedOrderOption","change","setchange","modalOpen","setModalOpen","totalItemCount","setTotalItemCount","totalPage","setTotalPage","search","setSearch","selectedItems","setSelectedItems","items","setItems","lastChecked","setLastChecked","sortby","setsortby","fetchData","get","then","res","data","map","x","onCheckItem","event","id","target","tagName","parentElement","selectedList","includes","filter","push","shiftKey","newItems","start","end","slice","Math","min","max","item","Array","from","Set","document","activeElement","blur","changePage","handleChangeSelectAll","isToggle","onContextMenuClick","e","console","log","action","onContextMenu","clickedProductId","startIndex","endIndex","find","params","toLowerCase"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Card, CustomInput } from 'reactstrap';\nimport { ContextMenuTrigger } from 'react-contextmenu';\nimport { Colxx } from '../../../components/common/CustomBootstrap'\nimport { servicePath } from \"../../../constants/defaultValues\";\nimport ListPageHeading from '../../../containers/pages/ListPageHeading';\nimport AddNewModal from '../../../containers/pages/AddNewModal';\nimport ListPageListing from '../../../containers/pages/ListPageListing';\nimport useMousetrap from '../../../hooks/use-mousetrap';\nimport ListHeadings from \"../../../containers/pages/ListHeadings\"\nimport { FaEthereum } from 'react-icons/fa';\nconst getIndex = (value, arr, prop) => {\n    for (let i = 0; i < arr.length; i += 1) {\n      if (arr[i][prop] === value) {\n        return i;\n      }\n    }\n    return -1;\n  };\n  \n//   const apiUrl = `${servicePath}/cakes/paging`;\n  \n  const orderOptions = [\n    { column: 'firstName', label: 'Name' },\n    \n  ];\n  const pageSizes = [4, 8, 12, 20];\n  \n  const categories = [\n    { label: 'User', value: 'user', key: 0 },\n    { label: 'Admin', value: 'admin', key: 1 },\n    { label: 'Magento User', value: 'magentoUser', key: 2 },\n  ];\nconst ManageUsers = ({ intl, match }) => {\n    const [isLoaded, setIsLoaded] = useState(false);\n    const [displayMode, setDisplayMode] = useState('list');\n    const [currentPage, setCurrentPage] = useState(1);\n    const [selectedPageSize, setSelectedPageSize] = useState(8);\n    const [selectedOrderOption, setSelectedOrderOption] = useState({\n      column: 'title',\n      label: 'Product Name',\n    });\n    const [change,setchange] = useState(false)\n    const [modalOpen, setModalOpen] = useState(false);\n    const [totalItemCount, setTotalItemCount] = useState(0);\n    const [totalPage, setTotalPage] = useState(1);\n    const [search, setSearch] = useState('');\n    const [selectedItems, setSelectedItems] = useState([]);\n    const [items, setItems] = useState([]);\n    const [lastChecked, setLastChecked] = useState(null);\n    const [sortby,setsortby] = useState(\"\")\n  \n    useEffect(() => {\n      setCurrentPage(1);\n    }, [selectedPageSize, selectedOrderOption]);\n  \n    useEffect(() => {\n      async function fetchData() {\n        await axios\n          .get(\n           \"/api/users/1\"\n          )\n          .then((res) => {\n            // console.log(res.data)\n            return res.data\n          })\n          .then((data) => {\n            setTotalPage(data.totalPage);\n            setItems(data.data.map(x=>{ return { ...x}}));\n            setSelectedItems([]);\n            // setTotalItemCount(data.totalItem);\n            setIsLoaded(true);\n          });\n      }\n      fetchData();\n    }, [change]);\n   \n    const onCheckItem = (event, id) => {\n      if (\n        event.target.tagName === 'A' ||\n        (event.target.parentElement && event.target.parentElement.tagName === 'A')\n      ) {\n        return true;\n      }\n      if (lastChecked === null) {\n        setLastChecked(id);\n      }\n  \n      let selectedList = [...selectedItems];\n      if (selectedList.includes(id)) {\n        selectedList = selectedList.filter((x) => x !== id);\n      } else {\n        selectedList.push(id);\n      }\n      setSelectedItems(selectedList);\n  \n      if (event.shiftKey) {\n        let newItems = [...items];\n        const start = getIndex(id, newItems, 'id');\n        const end = getIndex(lastChecked, newItems, 'id');\n        newItems = newItems.slice(Math.min(start, end), Math.max(start, end) + 1);\n        selectedItems.push(\n          ...newItems.map((item) => {\n            return item.id;\n          })\n        );\n        selectedList = Array.from(new Set(selectedItems));\n        setSelectedItems(selectedList);\n      }\n      document.activeElement.blur();\n      return false;\n    };\n    const changePage=(i)=>{\n        setCurrentPage(i)\n        axios.get(`/api/users/${i}`).then(res=>{\n          setTotalPage(res.data.totalPage);\n            setItems(res.data.data.map(x=>{ return { ...x}}));\n            setSelectedItems([]);\n            // setTotalItemCount(data.totalItem);\n            setIsLoaded(true);\n        })\n    }\n    const handleChangeSelectAll = (isToggle) => {\n      if (selectedItems.length >= items.length) {\n        if (isToggle) {\n          setSelectedItems([]);\n        }\n      } else {\n        setSelectedItems(items.map((x) => x.id));\n      }\n      document.activeElement.blur();\n      return false;\n    };\n  \n    const onContextMenuClick = (e, data) => {\n      console.log('onContextMenuClick - selected items', selectedItems);\n      console.log('onContextMenuClick - action : ', data.action);\n    };\n  \n    const onContextMenu = (e, data) => {\n      const clickedProductId = data.data;\n      if (!selectedItems.includes(clickedProductId)) {\n        setSelectedItems([clickedProductId]);\n      }\n  \n      return true;\n    };\n  \n    useMousetrap(['ctrl+a', 'command+a'], () => {\n      handleChangeSelectAll(false);\n    });\n  \n    useMousetrap(['ctrl+d', 'command+d'], () => {\n      setSelectedItems([]);\n      return false;\n    });\n   \n    const startIndex = (currentPage - 1) * selectedPageSize;\n    const endIndex = currentPage * selectedPageSize;\n  \n    return !isLoaded ? (\n      <div className=\"loading\" />\n    ) : (\n      <>\n        <div className=\"disable-text-selection\">\n          <ListPageHeading\n          change={change}\n          setchange={setchange}\n            heading=\"Users\"\n            displayMode={displayMode}\n            changeDisplayMode={setDisplayMode}\n            handleChangeSelectAll={handleChangeSelectAll}\n            changeOrderBy={(column) => {\n              setSelectedOrderOption(\n                orderOptions.find((x) => x.column === column)\n              );\n              setsortby(column)\n              axios.get(\"/api/users/1\",{params:{sortby:column}}).then(res=>{\n                setItems(res.data.data.map(x=>{ return { ...x}}));\n            setSelectedItems([]);\n            setIsLoaded(true);\n              })\n            }}\n            changePageSize={setSelectedPageSize}\n            selectedPageSize={selectedPageSize}\n            totalItemCount={totalItemCount}\n            selectedOrderOption={selectedOrderOption}\n            match={match}\n            startIndex={startIndex}\n            endIndex={endIndex}\n            selectedItemsLength={selectedItems ? selectedItems.length : 0}\n            itemsLength={items ? items.length : 0}\n            onSearchKey={(e) => {\n              if (e.key === 'Enter') {\n                setSearch(e.target.value.toLowerCase());\n                axios.get(\"/api/users/1\",{params:{search:e.target.value.toLowerCase()}}).then((res)=>{\n                  setItems(res.data.data.map(x=>{ return { ...x}}));\n                  setSelectedItems([]);\n                  // setTotalItemCount(res.data.totalItem);\n                  setIsLoaded(true);\n                })\n              }\n            }}\n            orderOptions={orderOptions}\n            pageSizes={pageSizes}\n            toggleModal={() => setModalOpen(!modalOpen)}\n            selectedItems={selectedItems}\n          />\n          <AddNewModal\n          change={change}\n          setchange={setchange}\n            modalOpen={modalOpen}\n            toggleModal={() => setModalOpen(!modalOpen)}\n            categories={categories}\n          />\n         {items.length==0 ? \"\" :<ListHeadings\n         change={change}\n          setchange={setchange}\n            selectedItemsLength={selectedItems ? selectedItems.length : 0}\n            handleChangeSelectAll={handleChangeSelectAll}\n            itemsLength={items ? items.length : 0}\n\n         /> }\n         {items.length==0 ? <h3>No Records Found</h3> :  <ListPageListing\n          change={change}\n          setchange={setchange}\n            items={items}\n            setItems ={setItems}\n            displayMode={displayMode}\n            selectedItems={selectedItems}\n            onCheckItem={onCheckItem}\n            currentPage={currentPage}\n            totalPage={totalPage}\n            onContextMenuClick={onContextMenuClick}\n            onContextMenu={onContextMenu}\n            onChangePage={changePage}\n            categories={categories}\n            // deleteUser={deleteUser}\n          />}\n         \n        </div>\n      </>\n    );\n};\nexport default ManageUsers;\n"]},"metadata":{},"sourceType":"module"}