{"ast":null,"code":"import _objectSpread from \"/home/browsewire/Desktop/CEI/cei/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _createForOfIteratorHelper from \"/home/browsewire/Desktop/CEI/cei/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";\nimport _regeneratorRuntime from \"/home/browsewire/Desktop/CEI/cei/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/browsewire/Desktop/CEI/cei/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/browsewire/Desktop/CEI/cei/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/browsewire/Desktop/CEI/cei/client/src/views/app/inventory/brands/add-new-brand.js\";\n\nimport React, { useState, useEffect } from 'react';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Input, Label, Row, Col } from 'reactstrap';\nimport Select from 'react-select';\nimport IntlMessages from '../../../../helpers/IntlMessages';\nimport axios from 'axios';\nimport CustomSelectInput from '../../../../components/common/CustomSelectInput';\nimport { NotificationManager } from '../../../../components/common/react-notifications';\nvar styles = {\n  profileImg: {\n    height: '5rem',\n    width: '5rem',\n    borderRadius: '50%'\n  }\n}; // const statusOptions = [\n//   { label: 'Active', value: 'Active', key: 0 },\n//   { label: 'Inactive', value: 'Inactive', key: 1 },\n// ];\n\nvar AddNewBrand = function AddNewBrand(_ref) {\n  var modalOpen = _ref.modalOpen,\n      toggleModal = _ref.toggleModal,\n      change = _ref.change,\n      setchange = _ref.setchange;\n\n  var _React$useState = React.useState({}),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      formData = _React$useState2[0],\n      setformData = _React$useState2[1];\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      parentbrands = _useState2[0],\n      setParentbrands = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      brandImage = _useState4[0],\n      setBrandImage = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      brandImagedata = _useState6[0],\n      setBrandImagedata = _useState6[1];\n\n  var baseimageurl = \"https://cdn.linqusacorp.com\";\n\n  var CreateNewBrand = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var formdata, imgform;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(\"aaaaaaa\");\n              e.preventDefault();\n\n              if (formData.brandShortName) {\n                _context.next = 4;\n                break;\n              }\n\n              return _context.abrupt(\"return\", NotificationManager.warning('Brand Short Name is Mandatory', 'Warning', 3000));\n\n            case 4:\n              formdata = {\n                brandShortName: formData.brandShortName,\n                brandLongName: formData.brandLongName,\n                parentId: formData.parentId\n              };\n\n              if (brandImagedata, formData.brandShortName && formData.brandLongName) {\n                imgform = new FormData();\n                imgform.append(\"brandimg\", brandImagedata);\n                console.log(imgform, \"---------------imgform---------------------------\");\n                axios.post(\"https://d3o5w1w6u67fah.cloudfront.net/productimages\", imgform).then(function (data) {\n                  if (data.data.success) {\n                    var path = \"\".concat(baseimageurl, \"/productimages/\").concat(data.data.data.filename);\n                    console.log(path);\n                    formdata.imageNameBrandLogo = path;\n                  }\n                });\n              }\n\n              if (formData.brandShortName) {\n                axios.post(\"/api/inventory/addBrand\", formdata).then(function (res) {\n                  if (res.data.success) {\n                    toggleModal();\n                    setchange(!change);\n                    NotificationManager.success(res.data.success, 'Success', 3000, null, null, '');\n                  }\n                });\n                setformData({});\n              }\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function CreateNewBrand(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var onChangePicture = function onChangePicture(e) {\n    if (e.target.files[0]) {\n      var reader = new FileReader();\n      reader.addEventListener('load', function () {\n        setBrandImage(reader.result);\n      });\n      reader.readAsDataURL(e.target.files[0]);\n      setBrandImagedata(e.target.files[0]);\n    }\n  };\n\n  useEffect(function () {\n    axios.get('/api/inventory/get-brand').then(function (res) {\n      console.log(res.data.data);\n      var brandList = [];\n      var singleBrand;\n\n      var _iterator = _createForOfIteratorHelper(res.data.data),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var i = _step.value;\n          singleBrand = {\n            label: i.brandShortName,\n            value: i.brandShortName,\n            key: i.id\n          };\n          brandList.push(singleBrand);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      setParentbrands(brandList);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(Modal, {\n    isOpen: modalOpen,\n    toggle: toggleModal,\n    wrapClassName: \"modal-right\",\n    backdrop: \"static\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ModalHeader, {\n    toggle: toggleModal,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(IntlMessages, {\n    id: \"Add New Brand\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(ModalBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IntlMessages, {\n    id: \"Brand Short Name\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Input, {\n    onChange: function onChange(e) {\n      setformData(_objectSpread(_objectSpread({}, formData), {}, {\n        brandShortName: e.target.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IntlMessages, {\n    id: \"Brand Long Name\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Input, {\n    onChange: function onChange(e) {\n      setformData(_objectSpread(_objectSpread({}, formData), {}, {\n        brandLongName: e.target.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IntlMessages, {\n    id: \"Parent Brand\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Select, {\n    components: {\n      Input: CustomSelectInput\n    },\n    className: \"react-select\",\n    classNamePrefix: \"react-select\",\n    name: \"form-field-name\",\n    options: parentbrands,\n    onChange: function onChange(e) {\n      setformData(_objectSpread(_objectSpread({}, formData), {}, {\n        parentId: e.key\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex align-items-center justify-content-center flex-column p-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 9\n    }\n  }, brandImage ? /*#__PURE__*/React.createElement(\"img\", {\n    style: styles.profileImg,\n    src: brandImage,\n    alt: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 27\n    }\n  }) : /*#__PURE__*/React.createElement(\"img\", {\n    src: \"https://icon-library.com/images/category-icon/category-icon-29.jpg\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 18\n    }\n  }), /*#__PURE__*/React.createElement(Label, {\n    className: \"font-weight-bold edit-profile mt-2\",\n    htmlFor: \"imageNameItem\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IntlMessages, {\n    id: \"Change Picture\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Input, {\n    accept: \"image/*\",\n    onChange: onChangePicture,\n    style: {\n      display: 'none'\n    },\n    type: \"file\",\n    name: \"imageNameItem\",\n    id: \"imageNameItem\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(ModalFooter, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"secondary\",\n    outline: true,\n    onClick: toggleModal,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IntlMessages, {\n    id: \"pages.cancel\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    onClick: CreateNewBrand,\n    color: \"primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IntlMessages, {\n    id: \"Create Brand\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 11\n    }\n  }))));\n};\n\nexport default AddNewBrand;","map":{"version":3,"sources":["/home/browsewire/Desktop/CEI/cei/client/src/views/app/inventory/brands/add-new-brand.js"],"names":["React","useState","useEffect","Button","Modal","ModalHeader","ModalBody","ModalFooter","Input","Label","Row","Col","Select","IntlMessages","axios","CustomSelectInput","NotificationManager","styles","profileImg","height","width","borderRadius","AddNewBrand","modalOpen","toggleModal","change","setchange","formData","setformData","parentbrands","setParentbrands","brandImage","setBrandImage","brandImagedata","setBrandImagedata","baseimageurl","CreateNewBrand","e","console","log","preventDefault","brandShortName","warning","formdata","brandLongName","parentId","imgform","FormData","append","post","then","data","success","path","filename","imageNameBrandLogo","res","onChangePicture","target","files","reader","FileReader","addEventListener","result","readAsDataURL","get","brandList","singleBrand","i","label","value","key","id","push","display"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Button,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Input,\n  Label,\n  Row,\n  Col\n} from 'reactstrap';\nimport Select from 'react-select';\nimport IntlMessages from '../../../../helpers/IntlMessages';\nimport axios from 'axios'\nimport CustomSelectInput from '../../../../components/common/CustomSelectInput';\nimport { NotificationManager } from '../../../../components/common/react-notifications';\n\nconst styles = {\n  \n    profileImg: {\n      height: '5rem',\n      width: '5rem',\n      borderRadius: '50%',\n    },\n   \n  };\n\n  // const statusOptions = [\n  //   { label: 'Active', value: 'Active', key: 0 },\n  //   { label: 'Inactive', value: 'Inactive', key: 1 },\n  // ];\n\n\n  const AddNewBrand= ({modalOpen, toggleModal, change, setchange})=>{\n\n    const [formData, setformData] = React.useState({})\n    const [parentbrands, setParentbrands] = useState([]);\n    const [brandImage, setBrandImage] = useState(null)\n    const [brandImagedata, setBrandImagedata] = useState(null)\n    const baseimageurl= \"https://cdn.linqusacorp.com\"\n\n    const CreateNewBrand =async (e) =>{\n      console.log(\"aaaaaaa\")\n        e.preventDefault();\n        if(!formData.brandShortName){\n          return NotificationManager.warning('Brand Short Name is Mandatory', 'Warning', 3000);\n        }\n        let formdata= {\n          brandShortName: formData.brandShortName,\n          brandLongName: formData.brandLongName, \n          parentId: formData.parentId\n        }\n\n        if(brandImagedata,formData.brandShortName && formData.brandLongName){\n          \n          let imgform = new FormData();\n          imgform.append(\"brandimg\",brandImagedata);\n          console.log(imgform,\"---------------imgform---------------------------\")\n          axios.post(\"https://d3o5w1w6u67fah.cloudfront.net/productimages\",imgform).then(data => {\n           if(data.data.success){\n            let path = `${baseimageurl}/productimages/${data.data.data.filename}`\n            console.log(path);\n            \n            formdata.imageNameBrandLogo=path            \n           }\n          })\n        }\n        if (formData.brandShortName){\n            \n            axios.post(\"/api/inventory/addBrand\", formdata).then(res =>{\n              if (res.data.success) {\n                toggleModal()\n                setchange(!change)\n                NotificationManager.success(\n                  res.data.success,\n                  'Success',\n                  3000,\n                  null,\n                  null,\n                  ''\n                );\n              }\n            })\n          setformData({});\n        }\n    }\n\n    const onChangePicture = (e) => {\n        if (e.target.files[0]) {\n          const reader = new FileReader();\n          reader.addEventListener('load', () => {\n            setBrandImage(reader.result);\n        });\n          reader.readAsDataURL(e.target.files[0]);\n          setBrandImagedata(e.target.files[0]);\n        }\n      }\n    \n      useEffect(() => {\n        axios.get('/api/inventory/get-brand').then((res) => {\n          console.log(res.data.data);\n          var brandList = [];\n          var singleBrand;\n          for (var i of res.data.data) {\n            \n              singleBrand = {\n                label: i.brandShortName,\n                value: i.brandShortName,\n                key: i.id,\n              };\n              brandList.push(singleBrand);\n          }\n          setParentbrands(brandList);\n        });\n      }, []);\n\nreturn (\n    <Modal\n    isOpen={modalOpen}\n    toggle={toggleModal}\n    wrapClassName=\"modal-right\"\n    backdrop=\"static\"\n    >\n     <ModalHeader toggle={toggleModal}>\n        <IntlMessages id=\"Add New Brand\" />\n      </ModalHeader>\n      <ModalBody>\n        <div className='mt-3'>\n          <Label>\n            <IntlMessages id=\"Brand Short Name\" />\n          </Label>\n          <Input onChange={(e) => {\n            setformData({ ...formData, brandShortName: e.target.value })\n          }} />\n        </div>\n        <div className='mt-3'>\n          <Label>\n            <IntlMessages id=\"Brand Long Name\" />\n          </Label>\n          <Input onChange={(e) => {\n            setformData({ ...formData, brandLongName: e.target.value })\n          }} />\n        </div>\n        <div className=\"mt-3\">\n          <Label>\n            <IntlMessages id=\"Parent Brand\" />\n          </Label>\n\n          <Select\n            components={{ Input: CustomSelectInput }}\n            className=\"react-select\"\n            classNamePrefix=\"react-select\"\n            name=\"form-field-name\"\n            options={parentbrands}\n            onChange={(e) => {\n              setformData({ ...formData, parentId: e.key });\n            }}\n          />\n        </div>\n        <div className=\"d-flex align-items-center justify-content-center flex-column p-3\">\n            \n            {brandImage ? <img\n              style={styles.profileImg}\n              src={brandImage}\n              alt=\"\"\n            /> : <img src=\"https://icon-library.com/images/category-icon/category-icon-29.jpg\"/>}\n            <Label className=\"font-weight-bold edit-profile mt-2\" htmlFor=\"imageNameItem\">\n              <IntlMessages id=\"Change Picture\" />\n            </Label>\n            <Input\n                    accept='image/*'\n                    onChange={onChangePicture}\n                    style={{ display: 'none' }}\n                    type=\"file\"\n                    name=\"imageNameItem\"\n                    id=\"imageNameItem\"\n                  />\n          </div>\n        \n      </ModalBody>\n      <ModalFooter>\n        <Button color=\"secondary\" outline onClick={toggleModal}>\n          <IntlMessages id=\"pages.cancel\" />\n        </Button>\n        <Button onClick={CreateNewBrand} color=\"primary\">\n          <IntlMessages id=\"Create Brand\" />\n        </Button>\n      </ModalFooter>\n    </Modal>\n)\n  }\n  \nexport default AddNewBrand;"]},"metadata":{},"sourceType":"module"}