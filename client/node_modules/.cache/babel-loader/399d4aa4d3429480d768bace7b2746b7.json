{"ast":null,"code":"import _slicedToArray from \"/home/browsewire/Desktop/hj/CEI/cei/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/browsewire/Desktop/hj/CEI/cei/client/src/views/app/customers/customers/Customer.js\";\n\nimport React, { useEffect, useState } from 'react';\nimport { Row, Button, Col, Card, CardBody, Table } from 'reactstrap';\nimport axios from 'axios';\nimport { useHistory } from 'react-router';\nimport { Colxx, Separator } from '../../../../components/common/CustomBootstrap';\nimport Breadcrumb from '../../../../containers/navs/Breadcrumb';\nimport IntlMessages from '../../../../helpers/IntlMessages';\nimport { NotificationManager } from '../../../../components/common/react-notifications';\n\nvar Customer = function Customer(_ref) {\n  var match = _ref.match;\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isLoaded = _useState4[0],\n      setIsLoaded = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      id = _useState6[0],\n      setId = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      change = _useState8[0],\n      setChange = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      orders = _useState10[0],\n      setOrders = _useState10[1];\n\n  var history = useHistory();\n  useEffect(function () {\n    setId(match.params.id);\n    axios.get(\"/api/customers/details/\".concat(match.params.id)).then(function (res) {\n      setData(res.data.customer);\n      setOrders(res.data.orders);\n      setIsLoaded(true);\n    }).catch(function (err) {\n      console.log(err.response);\n      return NotificationManager.error('Something Went Wrong!!!', 'Error', 3000);\n    });\n  }, [change]);\n  var date = new Date().toString().slice(4, 15).replace(/-/g, '/');\n\n  var getTotalPrice = function getTotalPrice() {\n    var sum = 0;\n    orders.forEach(function (order) {\n      return sum += order.paymentDetail.grandTotal;\n    });\n    return sum.toFixed(2);\n  };\n\n  var getLastOrderTotal = function getLastOrderTotal() {\n    var max = 0;\n    orders.forEach(function (_ref2) {\n      var paymentDetail = _ref2.paymentDetail;\n      if (paymentDetail.grandTotal > max) max = paymentDetail.grandTotal;\n    });\n    return max;\n  };\n\n  return !isLoaded ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loading\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Colxx, {\n    xxs: \"12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb, {\n    heading: \"\".concat(data.username),\n    match: match,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-zero top-right-button-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"danger\",\n    size: \"lg\",\n    outline: true,\n    className: \"top-right-button\",\n    onClick: function onClick() {\n      history.push('/app/customers');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IntlMessages, {\n    id: \"Back\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 15\n    }\n  })), '  '), /*#__PURE__*/React.createElement(Separator, {\n    className: \"mb-5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex flex-column\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"mb-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Colxx, {\n    xxs: \"12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 23\n    }\n  }, data.firstName && /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 29\n    }\n  }, \"First Name\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 29\n    }\n  }, data.firstName)), data.email && /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 29\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 29\n    }\n  }, data.email)), data.address1 && /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 29\n    }\n  }, \"Address 1\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 29\n    }\n  }, data.address1)), data.city && /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 29\n    }\n  }, \"City\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 29\n    }\n  }, data.city)), data.country && /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 29\n    }\n  }, \"Country\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 29\n    }\n  }, data.country)), data.phone && /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 29\n    }\n  }, \"Phone\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 29\n    }\n  }, data.phone)), data.creditTerm && /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 29\n    }\n  }, \"Credit Term\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 29\n    }\n  }, data.creditTerm)), data.userPhone1 && /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 29\n    }\n  }, \"User Phone 1\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 29\n    }\n  }, data.userPhone1)), data.userPhone3 && /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 29\n    }\n  }, \"User Phone 3\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 29\n    }\n  }, data.userPhone3))))), /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 23\n    }\n  }, data.lastName && /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 29\n    }\n  }, \"Last Name\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 29\n    }\n  }, data.lastName)), data.emailCC && /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 29\n    }\n  }, \"Email CC\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 29\n    }\n  }, data.emailCC)), data.address2 && /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 29\n    }\n  }, \"Address 2\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 29\n    }\n  }, data.address2)), data.state && /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 29\n    }\n  }, \"State\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 29\n    }\n  }, data.state)), data.zipCode && /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 29\n    }\n  }, \"Zip Code\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 29\n    }\n  }, data.zipCode)), data.businessName ? /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 29\n    }\n  }, \"Business Name\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 29\n    }\n  }, data.businessName)) : '', data.creditLimit ? /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 29\n    }\n  }, \"Credit Limit\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 29\n    }\n  }, data.creditLimit)) : '', data.userPhone2 ? /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 29\n    }\n  }, \"User Phone 2\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 29\n    }\n  }, data.userPhone2)) : '')))), /*#__PURE__*/React.createElement(Row, {\n    className: \"mt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 19\n    }\n  }, data.createdAt && /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"font-weight-bold mr-3 mt-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 25\n    }\n  }, \"Joined Us On :\"), ' ', new Date(data.createdAt).toString()), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"font-weight-bold mr-3 mt-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 23\n    }\n  }, \"Last Order Total :\", ' '), ' ', \"$ \", getLastOrderTotal()), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"font-weight-bold mr-3 mt-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 23\n    }\n  }, \"Total No. Of Orders :\"), ' ', orders.length), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"font-weight-bold mr-3 mt-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 23\n    }\n  }, \"Order Grand Total ( Till \", date, \" ) :\", ' '), ' ', \"$ \", getTotalPrice())))))))));\n};\n\nexport default Customer;","map":{"version":3,"sources":["/home/browsewire/Desktop/hj/CEI/cei/client/src/views/app/customers/customers/Customer.js"],"names":["React","useEffect","useState","Row","Button","Col","Card","CardBody","Table","axios","useHistory","Colxx","Separator","Breadcrumb","IntlMessages","NotificationManager","Customer","match","data","setData","isLoaded","setIsLoaded","id","setId","change","setChange","orders","setOrders","history","params","get","then","res","customer","catch","err","console","log","response","error","date","Date","toString","slice","replace","getTotalPrice","sum","forEach","order","paymentDetail","grandTotal","toFixed","getLastOrderTotal","max","username","push","firstName","email","address1","city","country","phone","creditTerm","userPhone1","userPhone3","lastName","emailCC","address2","state","zipCode","businessName","creditLimit","userPhone2","createdAt","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Row, Button, Col, Card, CardBody, Table } from 'reactstrap';\nimport axios from 'axios';\nimport { useHistory } from 'react-router';\nimport {\n  Colxx,\n  Separator,\n} from '../../../../components/common/CustomBootstrap';\nimport Breadcrumb from '../../../../containers/navs/Breadcrumb';\nimport IntlMessages from '../../../../helpers/IntlMessages';\nimport { NotificationManager } from '../../../../components/common/react-notifications';\n\nconst Customer = ({ match }) => {\n  const [data, setData] = useState({});\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [id, setId] = useState(0);\n  const [change, setChange] = useState(false);\n  const [orders, setOrders] = useState([]);\n  const history = useHistory();\n\n  useEffect(() => {\n    setId(match.params.id);\n    axios\n      .get(`/api/customers/details/${match.params.id}`)\n      .then((res) => {\n        setData(res.data.customer);\n        setOrders(res.data.orders);\n        setIsLoaded(true);\n      })\n      .catch((err) => {\n        console.log(err.response);\n        return NotificationManager.error(\n          'Something Went Wrong!!!',\n          'Error',\n          3000\n        );\n      });\n  }, [change]);\n  var date = new Date().toString().slice(4, 15).replace(/-/g, '/');\n\n  const getTotalPrice = () => {\n    let sum = 0;\n    orders.forEach((order) => (sum += order.paymentDetail.grandTotal));\n    return sum.toFixed(2);\n  };\n\n  const getLastOrderTotal = () => {\n    let max = 0;\n    orders.forEach(({ paymentDetail }) => {\n      if (paymentDetail.grandTotal > max) max = paymentDetail.grandTotal;\n    });\n    return max;\n  };\n\n  return !isLoaded ? (\n    <div className=\"loading\" />\n  ) : (\n    <>\n      <Row>\n        <Colxx xxs=\"12\">\n          <Breadcrumb heading={`${data.username}`} match={match} />\n          <div className=\"text-zero top-right-button-container\">\n            <Button\n              color=\"danger\"\n              size=\"lg\"\n              outline\n              className=\"top-right-button\"\n              onClick={() => {\n                history.push('/app/customers');\n              }}\n            >\n              <IntlMessages id=\"Back\" />\n            </Button>\n            {'  '}\n          </div>\n          <Separator className=\"mb-5\" />\n        </Colxx>\n      </Row>\n      <div className=\"d-flex flex-column\">\n        <Row className=\"mb-4\">\n          <Colxx xxs=\"12\">\n            <Card>\n              <CardBody>\n                <Row>\n                  <Col>\n                    <Table>\n                      <tbody>\n                        {data.firstName && (\n                          <tr>\n                            <th>First Name</th>\n                            <td>{data.firstName}</td>\n                          </tr>\n                        )}\n                        {data.email && (\n                          <tr>\n                            <th>Email</th>\n                            <td>{data.email}</td>\n                          </tr>\n                        )}\n                        {data.address1 && (\n                          <tr>\n                            <th>Address 1</th>\n                            <td>{data.address1}</td>\n                          </tr>\n                        )}\n                        {data.city && (\n                          <tr>\n                            <th>City</th>\n                            <td>{data.city}</td>\n                          </tr>\n                        )}\n                        {data.country && (\n                          <tr>\n                            <th>Country</th>\n                            <td>{data.country}</td>\n                          </tr>\n                        )}\n                        {data.phone && (\n                          <tr>\n                            <th>Phone</th>\n                            <td>{data.phone}</td>\n                          </tr>\n                        )}\n                        {data.creditTerm && (\n                          <tr>\n                            <th>Credit Term</th>\n                            <td>{data.creditTerm}</td>\n                          </tr>\n                        )}\n                        {data.userPhone1 && (\n                          <tr>\n                            <th>User Phone 1</th>\n                            <td>{data.userPhone1}</td>\n                          </tr>\n                        )}\n                        {data.userPhone3 && (\n                          <tr>\n                            <th>User Phone 3</th>\n                            <td>{data.userPhone3}</td>\n                          </tr>\n                        )}\n                      </tbody>\n                    </Table>\n                  </Col>\n                  <Col>\n                    <Table>\n                      <tbody>\n                        {data.lastName && (\n                          <tr>\n                            <th>Last Name</th>\n                            <td>{data.lastName}</td>\n                          </tr>\n                        )}\n                        {data.emailCC && (\n                          <tr>\n                            <th>Email CC</th>\n                            <td>{data.emailCC}</td>\n                          </tr>\n                        )}\n                        {data.address2 && (\n                          <tr>\n                            <th>Address 2</th>\n                            <td>{data.address2}</td>\n                          </tr>\n                        )}\n                        {data.state && (\n                          <tr>\n                            <th>State</th>\n                            <td>{data.state}</td>\n                          </tr>\n                        )}\n                        {data.zipCode && (\n                          <tr>\n                            <th>Zip Code</th>\n                            <td>{data.zipCode}</td>\n                          </tr>\n                        )}\n                        {data.businessName ? (\n                          <tr>\n                            <th>Business Name</th>\n                            <td>{data.businessName}</td>\n                          </tr>\n                        ) : (\n                          ''\n                        )}\n                        {data.creditLimit ? (\n                          <tr>\n                            <th>Credit Limit</th>\n                            <td>{data.creditLimit}</td>\n                          </tr>\n                        ) : (\n                          ''\n                        )}\n                        {data.userPhone2 ? (\n                          <tr>\n                            <th>User Phone 2</th>\n                            <td>{data.userPhone2}</td>\n                          </tr>\n                        ) : (\n                          ''\n                        )}\n                      </tbody>\n                    </Table>\n                  </Col>\n                </Row>\n                <Row className=\"mt-3\">\n                  <Col></Col>\n                  <Col>\n                    {data.createdAt && (\n                      <div>\n                        <span className=\"font-weight-bold mr-3 mt-2\">\n                          Joined Us On :\n                        </span>{' '}\n                        {new Date(data.createdAt).toString()}\n                      </div>\n                    )}\n                    <div>\n                      <span className=\"font-weight-bold mr-3 mt-2\">\n                        Last Order Total :{' '}\n                      </span>{' '}\n                      $ {getLastOrderTotal()}\n                    </div>\n                    <div>\n                      <span className=\"font-weight-bold mr-3 mt-2\">\n                        Total No. Of Orders :\n                      </span>{' '}\n                      {orders.length}\n                    </div>\n                    <div>\n                      <span className=\"font-weight-bold mr-3 mt-2\">\n                        Order Grand Total ( Till {date} ) :{' '}\n                      </span>{' '}\n                      $ {getTotalPrice()}\n                    </div>\n                  </Col>\n                </Row>\n              </CardBody>\n            </Card>\n          </Colxx>\n        </Row>\n      </div>\n    </>\n  );\n};\n\nexport default Customer;\n"]},"metadata":{},"sourceType":"module"}