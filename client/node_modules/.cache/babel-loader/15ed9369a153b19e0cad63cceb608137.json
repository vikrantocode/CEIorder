{"ast":null,"code":"import _regeneratorRuntime from\"/home/browsewire/Desktop/CEI/cei/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/browsewire/Desktop/CEI/cei/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/browsewire/Desktop/CEI/cei/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* eslint-disable react/no-array-index-key */import React,{useEffect,useState}from'react';import{Row,Card,CardBody}from'reactstrap';import{NavLink}from'react-router-dom';import axios from'axios';import Pagination from'../../../../containers/pages/Pagination';import{servicePath}from'../../../../constants/defaultValues';import Breadcrumb from'../../../../containers/navs/Breadcrumb';import{Separator,Colxx}from'../../../../components/common/CustomBootstrap';var apiUrl=\"\".concat(servicePath,\"/cakes/paging\");var Search=function Search(_ref){var match=_ref.match;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),items=_useState4[0],setItems=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),currentPage=_useState6[0],setCurrentPage=_useState6[1];var _useState7=useState('Cake'),_useState8=_slicedToArray(_useState7,1),keyword=_useState8[0];var _useState9=useState(10),_useState10=_slicedToArray(_useState9,1),pageSize=_useState10[0];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),totalPage=_useState12[0],setTotalPage=_useState12[1];useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:axios.get(\"\".concat(apiUrl,\"?pageSize=\").concat(pageSize,\"&currentPage=\").concat(currentPage,\"&search=\").concat(keyword)).then(function(res){return res.data;}).then(function(data){setItems(data.data);setTotalPage(data.totalPage);setIsLoading(false);});case 1:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[pageSize,currentPage,keyword]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Colxx,{xxs:\"12\"},/*#__PURE__*/React.createElement(Breadcrumb,{heading:\"menu.search\",match:match}),/*#__PURE__*/React.createElement(Separator,{className:\"mb-5\"}))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Colxx,{xxs:\"12\",className:\"mb-4\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardBody,null,!isLoading?items.map(function(item,i){return/*#__PURE__*/React.createElement(\"div\",{key:\"item_\".concat(i),className:\"\".concat(items.length!==i+1?'mb-3':'')},/*#__PURE__*/React.createElement(NavLink,{to:\"#\".concat(item.id),className:\"w-40 w-sm-100\"},/*#__PURE__*/React.createElement(\"p\",{className:\"list-item-heading mb-1 color-theme-1\"},item.title),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-1 text-muted text-small\"},\"Products | \",item.category),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-4 text-small\"},item.description)),items.length!==i+1&&/*#__PURE__*/React.createElement(Separator,null));}):/*#__PURE__*/React.createElement(\"div\",{className:\"loading\"})))),/*#__PURE__*/React.createElement(Pagination,{currentPage:currentPage,totalPage:totalPage,onChangePage:function onChangePage(i){return setCurrentPage(i);}})));};export default Search;","map":null,"metadata":{},"sourceType":"module"}