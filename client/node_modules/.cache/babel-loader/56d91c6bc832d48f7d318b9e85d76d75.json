{"ast":null,"code":"import _regeneratorRuntime from\"/home/browsewire/Desktop/CEI/cei/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/browsewire/Desktop/CEI/cei/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(getSurveyDetailItems),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(deleteQuestion),_marked3=/*#__PURE__*/_regeneratorRuntime.mark(watchGetDetail),_marked4=/*#__PURE__*/_regeneratorRuntime.mark(watchDeleteQuestion),_marked5=/*#__PURE__*/_regeneratorRuntime.mark(rootSaga);import{all,call,fork,put,takeEvery}from'redux-saga/effects';import{SURVEY_GET_DETAILS,SURVEY_DELETE_QUESTION}from'../actions';import{getSurveyDetailSuccess,getSurveyDetailError,saveSurvey}from'./actions';import surveyDetailData from'../../data/survey.detail.json';var getSurveyDetailRequest=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return new Promise(function(success,fail){setTimeout(function(){success(surveyDetailData.data);},1000);}).then(function(response){return response;}).catch(function(error){return error;});case 2:return _context.abrupt(\"return\",_context.sent);case 3:case\"end\":return _context.stop();}}},_callee);}));return function getSurveyDetailRequest(){return _ref.apply(this,arguments);};}();var deleteQuestionRequest=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(quesitonId,survey){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:survey.questions=survey.questions.filter(function(x){return x.id!==quesitonId;});_context2.next=3;return new Promise(function(success,fail){success(survey);}).then(function(response){return response;}).catch(function(error){return error;});case 3:return _context2.abrupt(\"return\",_context2.sent);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function deleteQuestionRequest(_x,_x2){return _ref2.apply(this,arguments);};}();function getSurveyDetailItems(){var response;return _regeneratorRuntime.wrap(function getSurveyDetailItems$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return call(getSurveyDetailRequest);case 3:response=_context3.sent;_context3.next=6;return put(getSurveyDetailSuccess(response));case 6:_context3.next=12;break;case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](0);_context3.next=12;return put(getSurveyDetailError(_context3.t0));case 12:case\"end\":return _context3.stop();}}},_marked,null,[[0,8]]);}function deleteQuestion(_ref3){var payload,questionId,survey,response;return _regeneratorRuntime.wrap(function deleteQuestion$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:payload=_ref3.payload;_context4.prev=1;questionId=payload.questionId,survey=payload.survey;_context4.next=5;return call(deleteQuestionRequest,questionId,survey);case 5:response=_context4.sent;_context4.next=8;return put(saveSurvey(response));case 8:_context4.next=14;break;case 10:_context4.prev=10;_context4.t0=_context4[\"catch\"](1);_context4.next=14;return put(getSurveyDetailError(_context4.t0));case 14:case\"end\":return _context4.stop();}}},_marked2,null,[[1,10]]);}export function watchGetDetail(){return _regeneratorRuntime.wrap(function watchGetDetail$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return takeEvery(SURVEY_GET_DETAILS,getSurveyDetailItems);case 2:case\"end\":return _context5.stop();}}},_marked3);}export function watchDeleteQuestion(){return _regeneratorRuntime.wrap(function watchDeleteQuestion$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return takeEvery(SURVEY_DELETE_QUESTION,deleteQuestion);case 2:case\"end\":return _context6.stop();}}},_marked4);}export default function rootSaga(){return _regeneratorRuntime.wrap(function rootSaga$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return all([fork(watchGetDetail),fork(watchDeleteQuestion)]);case 2:case\"end\":return _context7.stop();}}},_marked5);}","map":null,"metadata":{},"sourceType":"module"}