{"ast":null,"code":"import _slicedToArray from\"/home/browsewire/Desktop/CEI/cei/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* eslint-disable jsx-a11y/click-events-have-key-events */ /* eslint-disable jsx-a11y/no-static-element-interactions */ /* eslint-disable no-use-before-define */import React,{useState}from'react';import{injectIntl}from'react-intl';import{UncontrolledDropdown,DropdownItem,DropdownToggle,DropdownMenu,Input}from'reactstrap';import{NavLink}from'react-router-dom';import{connect}from'react-redux';import IntlMessages from'../../helpers/IntlMessages';import{setContainerClassnames,clickOnMobileMenu,logoutUser,changeLocale}from'../../redux/actions';import{menuHiddenBreakpoint,searchPath,localeOptions,isDarkSwitchActive,buyUrl,adminRoot}from'../../constants/defaultValues';import{MobileMenuIcon,MenuIcon}from'../../components/svg';import TopnavEasyAccess from'./Topnav.EasyAccess';import TopnavNotifications from'./Topnav.Notifications';import TopnavDarkSwitch from'./Topnav.DarkSwitch';import{getDirection,setDirection}from'../../helpers/Utils';var TopNav=function TopNav(_ref){var intl=_ref.intl,history=_ref.history,containerClassnames=_ref.containerClassnames,menuClickCount=_ref.menuClickCount,selectedMenuHasSubItems=_ref.selectedMenuHasSubItems,locale=_ref.locale,setContainerClassnamesAction=_ref.setContainerClassnamesAction,clickOnMobileMenuAction=_ref.clickOnMobileMenuAction,logoutUserAction=_ref.logoutUserAction,changeLocaleAction=_ref.changeLocaleAction,user=_ref.user;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isInFullScreen=_useState2[0],setIsInFullScreen=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),searchKeyword=_useState4[0],setSearchKeyword=_useState4[1];var search=function search(){history.push(\"\".concat(searchPath,\"?key=\").concat(searchKeyword));setSearchKeyword('');};var handleChangeLocale=function handleChangeLocale(_locale,direction){changeLocaleAction(_locale);var currentDirection=getDirection().direction;if(direction!==currentDirection){setDirection(direction);setTimeout(function(){window.location.reload();},500);}};var isInFullScreenFn=function isInFullScreenFn(){return document.fullscreenElement&&document.fullscreenElement!==null||document.webkitFullscreenElement&&document.webkitFullscreenElement!==null||document.mozFullScreenElement&&document.mozFullScreenElement!==null||document.msFullscreenElement&&document.msFullscreenElement!==null;};var handleSearchIconClick=function handleSearchIconClick(e){if(window.innerWidth<menuHiddenBreakpoint){var elem=e.target;if(!e.target.classList.contains('search')){if(e.target.parentElement.classList.contains('search')){elem=e.target.parentElement;}else if(e.target.parentElement.parentElement.classList.contains('search')){elem=e.target.parentElement.parentElement;}}if(elem.classList.contains('mobile-view')){search();elem.classList.remove('mobile-view');removeEventsSearch();}else{elem.classList.add('mobile-view');addEventsSearch();}}else{search();}e.stopPropagation();};var handleDocumentClickSearch=function handleDocumentClickSearch(e){var isSearchClick=false;if(e.target&&e.target.classList&&(e.target.classList.contains('navbar')||e.target.classList.contains('simple-icon-magnifier'))){isSearchClick=true;if(e.target.classList.contains('simple-icon-magnifier')){search();}}else if(e.target.parentElement&&e.target.parentElement.classList&&e.target.parentElement.classList.contains('search')){isSearchClick=true;}if(!isSearchClick){var input=document.querySelector('.mobile-view');if(input&&input.classList)input.classList.remove('mobile-view');removeEventsSearch();setSearchKeyword('');}};var removeEventsSearch=function removeEventsSearch(){document.removeEventListener('click',handleDocumentClickSearch,true);};var addEventsSearch=function addEventsSearch(){document.addEventListener('click',handleDocumentClickSearch,true);};var handleSearchInputKeyPress=function handleSearchInputKeyPress(e){if(e.key==='Enter'){search();}};var toggleFullScreen=function toggleFullScreen(){var isFS=isInFullScreenFn();var docElm=document.documentElement;if(!isFS){if(docElm.requestFullscreen){docElm.requestFullscreen();}else if(docElm.mozRequestFullScreen){docElm.mozRequestFullScreen();}else if(docElm.webkitRequestFullScreen){docElm.webkitRequestFullScreen();}else if(docElm.msRequestFullscreen){docElm.msRequestFullscreen();}}else if(document.exitFullscreen){document.exitFullscreen();}else if(document.webkitExitFullscreen){document.webkitExitFullscreen();}else if(document.mozCancelFullScreen){document.mozCancelFullScreen();}else if(document.msExitFullscreen){document.msExitFullscreen();}setIsInFullScreen(!isFS);};// LOGOUT HANDLER\nvar handleLogout=function handleLogout(){console.log('Hi');localStorage.removeItem('user');history.push('/user/login');};var editProfile=function editProfile(){history.push('/app/edit-profile');};var menuButtonClick=function menuButtonClick(e,_clickCount,_conClassnames){e.preventDefault();setTimeout(function(){var event=document.createEvent('HTMLEvents');event.initEvent('resize',false,false);window.dispatchEvent(event);},350);setContainerClassnamesAction(_clickCount+1,_conClassnames,selectedMenuHasSubItems);};var mobileMenuButtonClick=function mobileMenuButtonClick(e,_containerClassnames){e.preventDefault();clickOnMobileMenuAction(_containerClassnames);};var messages=intl.messages;return/*#__PURE__*/React.createElement(\"nav\",{className:\"navbar fixed-top\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center navbar-left\"},/*#__PURE__*/React.createElement(NavLink,{to:\"#\",location:{},className:\"menu-button d-none d-md-block\",onClick:function onClick(e){return menuButtonClick(e,menuClickCount,containerClassnames);}},/*#__PURE__*/React.createElement(MenuIcon,null)),/*#__PURE__*/React.createElement(NavLink,{to:\"#\",location:{},className:\"menu-button-mobile d-xs-block d-sm-block d-md-none\",onClick:function onClick(e){return mobileMenuButtonClick(e,containerClassnames);}},/*#__PURE__*/React.createElement(MobileMenuIcon,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"search\"},/*#__PURE__*/React.createElement(Input,{name:\"searchKeyword\",id:\"searchKeyword\",placeholder:messages['menu.search'],value:searchKeyword,onChange:function onChange(e){return setSearchKeyword(e.target.value);},onKeyPress:function onKeyPress(e){return handleSearchInputKeyPress(e);}}),/*#__PURE__*/React.createElement(\"span\",{className:\"search-icon\",onClick:function onClick(e){return handleSearchIconClick(e);}},/*#__PURE__*/React.createElement(\"i\",{className:\"simple-icon-magnifier\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-inline-block\"},/*#__PURE__*/React.createElement(UncontrolledDropdown,{className:\"ml-2\"},/*#__PURE__*/React.createElement(DropdownToggle,{caret:true,color:\"light\",size:\"sm\",className:\"language-button\"},/*#__PURE__*/React.createElement(\"span\",{className:\"name\"},locale.toUpperCase())),/*#__PURE__*/React.createElement(DropdownMenu,{className:\"mt-3\",right:true},localeOptions.map(function(l){return/*#__PURE__*/React.createElement(DropdownItem,{onClick:function onClick(){return handleChangeLocale(l.id,l.direction);},key:l.id},l.name);}))))),/*#__PURE__*/React.createElement(\"div\",{style:{fontSize:'1.5rem'}},\"BUY SUPPLY APP\"),/*#__PURE__*/React.createElement(\"div\",{className:\"navbar-right\"},isDarkSwitchActive&&/*#__PURE__*/React.createElement(TopnavDarkSwitch,null),/*#__PURE__*/React.createElement(\"div\",{className:\"header-icons d-inline-block align-middle\"},/*#__PURE__*/React.createElement(TopnavEasyAccess,null),/*#__PURE__*/React.createElement(TopnavNotifications,null),/*#__PURE__*/React.createElement(\"button\",{className:\"header-icon btn btn-empty d-none d-sm-inline-block\",type:\"button\",id:\"fullScreenButton\",onClick:toggleFullScreen},isInFullScreen?/*#__PURE__*/React.createElement(\"i\",{className:\"simple-icon-size-actual d-block\"}):/*#__PURE__*/React.createElement(\"i\",{className:\"simple-icon-size-fullscreen d-block\"}))),user?/*#__PURE__*/React.createElement(\"div\",{className:\"user d-inline-block\"},/*#__PURE__*/React.createElement(UncontrolledDropdown,{className:\"dropdown-menu-right\"},/*#__PURE__*/React.createElement(DropdownToggle,{className:\"p-0\",color:\"empty\"},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"img\",{alt:\"Profile\",src:user.profileImage?'http://d3o5w1w6u67fah.cloudfront.net/'+user.profileImage:'http://d3o5w1w6u67fah.cloudfront.net/userImages/user.png'}))),/*#__PURE__*/React.createElement(DropdownMenu,{className:\"mt-3\",right:true},/*#__PURE__*/React.createElement(DropdownItem,{onClick:editProfile},\"Manage Account\"),/*#__PURE__*/React.createElement(DropdownItem,{divider:true}),/*#__PURE__*/React.createElement(DropdownItem,{onClick:function onClick(){return handleLogout();}},\"Sign out\")))):''));};var mapStateToProps=function mapStateToProps(_ref2){var menu=_ref2.menu,settings=_ref2.settings;var containerClassnames=menu.containerClassnames,menuClickCount=menu.menuClickCount,selectedMenuHasSubItems=menu.selectedMenuHasSubItems;var locale=settings.locale;return{containerClassnames:containerClassnames,menuClickCount:menuClickCount,selectedMenuHasSubItems:selectedMenuHasSubItems,locale:locale};};export default injectIntl(connect(mapStateToProps,{setContainerClassnamesAction:setContainerClassnames,clickOnMobileMenuAction:clickOnMobileMenu,logoutUserAction:logoutUser,changeLocaleAction:changeLocale})(TopNav));","map":null,"metadata":{},"sourceType":"module"}