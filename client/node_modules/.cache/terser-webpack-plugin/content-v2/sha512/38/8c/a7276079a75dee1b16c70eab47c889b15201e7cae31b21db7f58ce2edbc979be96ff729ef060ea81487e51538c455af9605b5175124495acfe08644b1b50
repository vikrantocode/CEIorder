{"code":"(this[\"webpackJsonpgogo-react\"]=this[\"webpackJsonpgogo-react\"]||[]).push([[84],{1133:function(e,a,t){\"use strict\";t.r(a);var n=t(0),r=t(92),l=t(5),s=t.n(l),o=t(255),c=t(105),i=t(117),m=t(677),u=t(678),d=t(230),p=t(66),b=t(227),g=t(36),E=t(91),f=t(90),N=t(1),w=t(98),v=t(97),h=t.n(v),O=(t(256),function(e){var a;return e?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(e)||(a=\"Invalid email address\"):a=\"Please enter your email address\",a});a.default=Object(g.b)((function(e){var a=e.authUser;return{forgotUserMail:a.forgotUserMail,loading:a.loading,error:a.error}}),{forgotPasswordAction:N.hb})((function(e){e.history,e.forgotUserMail;var a=e.loading,t=(e.error,e.forgotPasswordAction,Object(l.useState)({})),g=Object(r.a)(t,2),N=g[0],v=g[1],x=Object(l.useState)({}),P=Object(r.a)(x,2),T=P[0],j=P[1],y=function(){console.log(T),h.a.post(\"/api/send-OTP\",T).then((function(e){console.log(e.data),e.data.success?(v({email:e.data.email,otp:e.data.otp,expiration:e.data.expiration}),w.b.success(e.data.success,\"Password Error\",3e3,null,null,\"\")):e.data.error&&w.b.warning(e.data.error,\"Password Error\",3e3,null,null,\"\")}))},I=function(e){e.preventDefault(),N.verified?w.b.warning(\"OTP not verified\",\"OTP error\",3e3,null,null,\"\"):(localStorage.setItem(\"userEmail\",N.email),window.location.href=\"/user/reset-password\")},S=function(e){var a=new Date;console.log(a),new Date(N.expiration).getTime()>a.getTime()?(w.b.warning(\"OTP is still valid \",\"OTP error\",3e3,null,null,\"\"),console.log(T)):(console.log(T),h.a.post(\"/send-OTP\",T).then((function(e){console.log(e.data),e.data.success?(v({email:e.data.email,otp:e.data.otp,expiration:e.data.expiration}),w.b.warning(e.data.success,\"Success\",3e3,null,null,\"\")):e.data.error&&w.b.warning(e.data.error,\"Error\",3e3,null,null,\"\")})))};return s.a.createElement(o.a,{className:\"h-100\"},s.a.createElement(E.a,{xxs:\"12\",md:\"10\",className:\"mx-auto my-auto\"},s.a.createElement(c.a,{className:\"auth-card\"},s.a.createElement(\"div\",{className:\"position-relative image-side \"},s.a.createElement(\"p\",{className:\"text-white h2\"},\"MAGIC IS IN THE DETAILS\"),s.a.createElement(\"p\",{className:\"white mb-0\"},\"Please use your e-mail to reset your password. \",s.a.createElement(\"br\",null),\"If you are not a member, please\",\" \",s.a.createElement(p.c,{to:\"/user/register\",className:\"white\"},\"register\"),\".\")),s.a.createElement(\"div\",{className:\"form-side\"},s.a.createElement(p.c,{to:\"/\",className:\"white\"},s.a.createElement(\"span\",{className:\"logo-single\"})),s.a.createElement(i.a,{className:\"mb-4\"},s.a.createElement(f.a,{id:\"user.forgot-password\"})),s.a.createElement(b.c,null,(function(e){e.errors,e.touched;return s.a.createElement(b.b,{className:\"av-tooltip tooltip-label-bottom\"},s.a.createElement(m.a,{className:\"form-group has-float-label\"},s.a.createElement(u.a,null,s.a.createElement(f.a,{id:\"user.email\"})),s.a.createElement(b.a,{className:\"form-control\",name:\"email\",validate:O,onChange:function(e){j({email:e.target.value})}})),N.otp?s.a.createElement(m.a,{className:\"form-group has-float-label\"},s.a.createElement(u.a,null,s.a.createElement(f.a,{id:\"OTP\"})),s.a.createElement(b.a,{className:\"form-control\",name:\"Otp\",validate:O,onChange:function(e){e.target.value==N.otp?(v(Object(n.a)(Object(n.a)({},N),{},{verified:!1})),w.b.success(\"OTP verified\",\"Success\",3e3,null,null,\"\")):4==e.target.value.length&&e.target.value!=N.otp&&(v(Object(n.a)(Object(n.a)({},N),{},{verified:!0})),w.b.warning(\"Incorrect OTP\",\"Error\",3e3,null,null,\"\"))}})):\"\",s.a.createElement(\"div\",{className:\"d-flex justify-content-between align-items-center\"},N.otp?s.a.createElement(\"div\",{style:{cursor:\"pointer\"},onClick:S},\"Resend\"):\"\",N.otp?s.a.createElement(d.a,{onClick:I,color:\"primary\",className:\"btn-shadow btn-multiple-state \".concat(a?\"show-spinner\":\"\"),size:\"lg\"},s.a.createElement(\"span\",{className:\"spinner d-inline-block\"},s.a.createElement(\"span\",{className:\"bounce1\"}),s.a.createElement(\"span\",{className:\"bounce2\"}),s.a.createElement(\"span\",{className:\"bounce3\"})),s.a.createElement(\"span\",{className:\"label\"},\"Reset\")):s.a.createElement(d.a,{onClick:y,color:\"primary\",className:\"btn-shadow btn-multiple-state \".concat(a?\"show-spinner\":\"\"),size:\"lg\"},s.a.createElement(\"span\",{className:\"spinner d-inline-block\"},s.a.createElement(\"span\",{className:\"bounce1\"}),s.a.createElement(\"span\",{className:\"bounce2\"}),s.a.createElement(\"span\",{className:\"bounce3\"})),s.a.createElement(\"span\",{className:\"label\"},\"Send OTP\"))))}))))))}))},90:function(e,a,t){\"use strict\";var n=t(5),r=t.n(n),l=t(333),s=t(249);a.a=Object(s.c)((function(e){return r.a.createElement(l.a,e)}),{withRef:!1})},91:function(e,a,t){\"use strict\";t.d(a,\"a\",(function(){return s})),t.d(a,\"b\",(function(){return o}));var n=t(5),r=t.n(n),l=t(254),s=function(e){return r.a.createElement(l.a,Object.assign({},e,{widths:[\"xxs\",\"xs\",\"sm\",\"md\",\"lg\",\"xl\",\"xxl\"]}))},o=function(e){var a=e.className;return r.a.createElement(\"div\",{className:\"separator \".concat(a)})}}}]);","extractedComments":[]}